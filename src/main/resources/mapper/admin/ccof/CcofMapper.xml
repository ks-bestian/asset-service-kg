<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.bestiansoft.ebillservicekg.admin.ccof.repository.CcofMapper">
    <select id="getCcofList" parameterType="java.util.HashMap" resultType="kr.co.bestiansoft.ebillservicekg.admin.ccof.vo.CcofVo">
        /* QueryID : kr.co.bestiansoft.ebillservicekg.admin.ccof.repository.CcofMapper.getCcofList */
        select
              cc.user_id --사용자아이디
            , cc.dept_cd --부서코드
            , cc.ord --순서
            , cc.reg_id
            , cc.reg_dt
            , cc.mod_id
            , cc.mod_dt
        from com_ccof cc
        left join com_user cu on cu.user_id = cc.user_id
        where cc.user_id = #{userId}
    </select>

    <insert id="insertCcofInUser" parameterType="kr.co.bestiansoft.ebillservicekg.admin.ccof.vo.CcofVo">
        insert into com_ccof (
              user_id
            , dept_cd
            , ord
            , reg_id
            , reg_dt
            , mod_id
            , mod_dt
        )
        values (
              #{userId}
            , #{deptCd}
            , #{ord}
            , #{regId}
            , now()
            , null
            , null
        )
    </insert>

    <delete id="deleteCcofInUser" parameterType="java.util.HashMap">
        delete from com_ccof
        where user_id = #{userId} and dept_cd = #{deptCd}
    </delete>
</mapper>